
Instalar o CLI do Google Cloud

Executar no terminal onde foi extraida a pasta do cli: 
 ./bin/gsutil mb -l us-central1 gs://NOME-DO-BUCKET

Executar na pasta api-upload-url:
gcloud functions deploy getUploadUrl \
  --gen2 \
  --runtime nodejs20 \
  --region us-central1 \
  --source . \
  --entry-point getUploadUrl \
  --trigger-http \
  --allow-unauthenticated


  Executar na pasta api-notify-email substituindo as variaveis de ambiente:
  gcloud functions deploy notifyOnUpload \
  --gen2 \
  --runtime nodejs20 \
  --region us-central1 \
  --source . \
  --entry-point notifyOnUpload \
  --trigger-event-filters="type=google.cloud.storage.object.v1.finalized" \
  --trigger-event-filters="bucket=bucket-test-sistemas-distribuidos" \
  --set-env-vars="SENDGRID_API_KEY=xxx,EMAIL_TO=xxx,EMAIL_FROM=xxx"


  Caso esteja tendo problemas com o CORS:

  nano cors-config.json  

    [
    {
        "origin": ["*"],
        "method": ["PUT", "OPTIONS"],
        "responseHeader": ["Content-Type"],
        "maxAgeSeconds": 3600
    }
    ]

  gsutil cors set cors-config.json gs://NOME-DO-BUCKET


